(()=>{"use strict";const t=document.querySelector.bind(document),e=document.querySelectorAll.bind(document),n=(t,e,n)=>t?.addEventListener(e,n),s=(t,e)=>{t&&(t.innerHTML=e)},a=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,i=(t,e="")=>{t&&e.split(" ").forEach((e=>{t.classList.add(e)}))},l=(t,e="")=>{t&&e.split(" ").forEach((e=>{t.classList.remove(e)}))},o=(t,e)=>{if(t)for(const n in e)t.style[n]=e[n]},r="container",c=()=>`<div id="${r}" style="overflow: hidden;width:412px;height:732px"></div>`,d=([t,e,n,s=0])=>`<div class="${"bullet "+(s?"a":"")}" style="${`width:${n}px;height:${n}px;transform:translate(${t}px, ${e}px);`}"></div>`,x=(t="",e="",n="",s="",a=40)=>`<div class="btn-w"><button id=${t} class="btn ${n}" style="width: ${a}px;height:${a}px;">${e}</button>${""!==s?`<span>${s}</span>`:""}</div>`,p=(t=23,e="")=>`<div class="sta"><div style="font-size: ${t}px;">★</div>${""!==e?`<div>${e}</div>`:""}</div>`,v=[[2,30,[[47,135,138],[202,320,98],[292,455,61]]],[0,30,[[110,156,77],[225,156,77],[225,298,77],[110,298,77],[110,443,77],[225,443,77],[109,245,39],[161,245,39],[212,245,39],[264,245,39],[264,389,39],[212,389,39],[161,389,39],[109,389,39]]],[5,30,[[301,116,24],[131,370,26],[134,601,96],[32,559,96],[245,473,31],[94,649,39],[319,87,39],[268,139,64],[261,200,36],[248,237,36],[234,274,36],[221,309,36],[207,344,37],[195,381,37],[179,417,40],[78,496,64],[175,542,60],[218,597,26],[54,533,26],[186,460,28],[113,394,35],[107,428,76],[177,485,21],[195,486,57],[143,504,50],[123,551,51]]],[1,20,[[56,356,128],[227,356,128],[247,215,32],[274,235,32],[290,265,32],[307,294,32],[324,323,32],[338,354,32],[133,215,32],[106,235,32],[90,265,32],[73,294,32],[57,323,32],[41,354,32]]],[0,30,[[158,384,95],[125,389,26],[245,365,26],[164,349,26],[193,344,26],[221,349,26],[141,365,26],[261,389,26],[91,354,39],[113,320,39],[147,297,39],[187,289,39],[226,297,39],[260,320,39],[282,354,39],[44,318,51],[285,270,51],[124,238,51],[181,227,51],[237,238,51],[76,270,51],[317,318,51]]]],m=v.length,h=".game-c";let $,u,f,g=-1,y=0,w=0,b=!1;const M=(t=0,e="normal")=>{let n=((new Date).getTime()-w)/1e3*(360/t)%360;return"reverse"===e&&360-n>=0&&(n=360-n),Math.round(n)},L=()=>{const[t,e,n]=$[g],s=.5*n-5;return[t+s,e+s]},T=async()=>{const n=(()=>{const[,,,e,n,s]=$[g],a=t(`#${e}`),i=window.getComputedStyle(a,"::before").transform;let l=0;if(i&&"none"!==i){const t=i.split("(")[1].split(")")[0].split(","),e=+t[0],n=+t[1];l=((t=0)=>(t%360+360)%360)(Math.round(Math.atan2(n,e)*(180/Math.PI)))}else l=M(s,n);return l=M(s,n),l})(),s=(n-90)*(Math.PI/180),[a,r]=L(),c=Math.cos(s),d=Math.sin(s);let x=a,p=r,v=-1;const m={x:0,y:0},u=$.filter((t=>!t[6])),[,,,f]=$[g],y=t(`#${f}`),w=t(".bullet"),T=g;g=-1,i(w,"a");const E=e(".tmppath");for(let t=0;t<E.length;t++)E[t].remove();for(;x>=0&&x<=412&&p>=0&&p<=732;){x+=c,p+=d;const e=document.createElement("div");e.style.transform=`translate(${x}px, ${p}px)`,e.style.width="10px",e.style.height="10px",e.className="tmppath",t(h)?.append(e);for(let t=0;t<u.length;t++){const e=u[t][0],n=u[t][1],s=u[t][2],a=e+s/2,i=n+s/2,l=s/2;if(Math.sqrt((x-a)**2+(p-i)**2)<=l){v=t,m.x=x,m.y=p;break}}if(v>=0)break}i(y,"s"),y.style.display="none";const j=v>=0?m:{x,y:p};o(w,{transform:`translate(${j.x}px, ${j.y}px)`});const k=w?.getAnimations().map((t=>t.finished));if(await Promise.allSettled(k),t(`#${f}`)?.remove(),$.splice(T,1),v>=0){g=v,$[g][6]=!0;const e=$.length;b=1===e;const n="a"+(b?" s":"");i(t(`#${$[g][3]}`),n),l(w,"a");const[s,a]=L();b&&S(),o(w,{transform:`translate(${s}px, ${a}px)`})}else b=!0,S()},E=(e=0)=>{const n=((t=0)=>v[t])(e);g=n[0],y=n[1],f.textContent=`${y}`,w=(new Date).getTime(),$=n[2].map((([t,e,n],s)=>{const[i,l]=[0===a(0,1)?"normal":"reverse",a(1,3)+a(0,9)/10];return[t,e,n,`c-${"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}`,i,l,s===g]})),s(t(h),[$.map((t=>(([t,e,n,s,a,i,l])=>`<div id="${s}" class="${"clock "+(l?"a":"")}" style="width:${n}px;height:${n}px;left:${t}px;top:${e}px;--s:${i}s;--d:${a};"></div>`)(t))),d([...L(),10])].flat().join(""))},S=()=>{u&&(clearInterval(u),u=null)},j=()=>{S(),f.textContent=`${y}`,u=setInterval((()=>{y--,y>=0?f.textContent=`${y}`:S()}),1e3)},k=({level:a=0})=>{const o=`<div class="game wh"><div class="game-o wh jc">\n  <div class="ti jc"><h1>Game Paused</h1><h3></h3></div>\n    ${x("play","⏵","","Tap to Resume",140)}\n    ${p(90,"With Start")}\n    <div class="me jc"></div>\n    <div class="t jc">\n      ${x("main","✖","","Main Menu",80)}\n      ${x("run","↺","","Run Again",80)}\n      ${x("next","⏵","","Next Level",80)}\n    </div>\n  </div><div class="game-t"><div class="t"><div class="s">${p()}<span>Time</span></div><div class="c">00</div></div>${x("pause","⏸","bt")}</div><div class="game-c wh"></div></div>`;s(t(`#${r}`),o),((s=0)=>{f=t(".game-t .c"),E(s),n(t(h),"click",(()=>{!b&&g>=0&&(T(),!u&&y>0&&j())})),e("button").forEach((e=>{n(e,"click",(e=>{const n=e.target.id;S(),["play","next","run"].includes(n)&&l(t(".game-o"),"a"),"pause"===n&&(i(t(".game-o"),"a"),t(".game-o .ti h3").textContent=`Level - ${s+1}`),"play"===n&&j(),"run"===n&&(b=!1,E(s)),"next"===n&&s+1<m&&(s++,b=!1,E(s)),"main"===n&&console.log("Ir al lobby")}))}))})(a)};var C,I,A;const P=(C=()=>{const e=t("#root"),n=Math.min(window.innerWidth/412,window.innerHeight/732);e.setAttribute("style",`transform: scale(${n});`)},I=100,function(){clearTimeout(A),A=setTimeout(C,I)});s(t("#root"),c()),k({level:0}),n(document,"contextmenu",(t=>t.preventDefault())),window.addEventListener("resize",P),P()})();