(()=>{"use strict";const t=document.querySelector.bind(document),e=document.querySelectorAll.bind(document),s=(t,e,s)=>t?.addEventListener(e,s),i=(t,e)=>{t&&(t.innerHTML=e)},n=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,a=(t,e="")=>{t&&e.split(" ").forEach((e=>{t.classList.add(e)}))},o=(t,e="")=>{t&&e.split(" ").forEach((e=>{t.classList.remove(e)}))},l=(t,e)=>{if(t)for(const s in e)t.style[s]=e[s]},r=t=>{e("button").forEach((e=>{s(e,"click",(e=>{t(e.target.id)}))}))},d=(t=1)=>Array.from({length:t},((t,e)=>e)),c="container",v=()=>`<div id="${c}" style="overflow: hidden;width:412px;height:732px"></div>`,$=((t,e)=>{var s;return function(){clearTimeout(s),s=setTimeout(t,e)}})((()=>{const e=t("#root"),s=Math.min(window.innerWidth/412,window.innerHeight/732);e.setAttribute("style",`transform: scale(${s});`)}),100),x=$,m=([t,e,s,i=0])=>`<div class="${"bullet bor "+(i?"a":"")}" style="${`width:${s}px;height:${s}px;transform:translate(${t}px, ${e}px);`}"></div>`,h=(t="",e="",s="",i="",n=45,a=!1)=>`<div id="bt-${t}" class="btn-w"><button id=${t} class="btn bor ${s}" style="width: ${n}px;height:${n}px;" ${a?"disabled":""}>${e}</button>${""!==i?`<span>${i}</span>`:""}</div>`,p=(t=23,e="")=>`<div class="sta"><div style="font-size: ${t}px;">★</div>${""!==e?`<div>${e}</div>`:""}</div>`,u=[[0,30,[[47,135,138],[202,320,98],[292,455,61]]],[0,30,[[110,156,77],[225,156,77],[225,298,77],[110,298,77],[110,443,77],[225,443,77],[109,245,39],[161,245,39],[212,245,39],[264,245,39],[264,389,39],[212,389,39],[161,389,39],[109,389,39]]],[5,30,[[301,116,24],[131,370,26],[134,601,96],[32,559,96],[245,473,31],[94,649,39],[319,87,39],[268,139,64],[261,200,36],[248,237,36],[234,274,36],[221,309,36],[207,344,37],[195,381,37],[179,417,40],[78,496,64],[175,542,60],[218,597,26],[54,533,26],[186,460,28],[113,394,35],[107,428,76],[177,485,21],[195,486,57],[143,504,50],[123,551,51]]],[1,20,[[56,356,128],[227,356,128],[247,215,32],[274,235,32],[290,265,32],[307,294,32],[324,323,32],[338,354,32],[133,215,32],[106,235,32],[90,265,32],[73,294,32],[57,323,32],[41,354,32]]],[0,30,[[158,384,95],[125,389,26],[245,365,26],[164,349,26],[193,344,26],[221,349,26],[141,365,26],[261,389,26],[91,354,39],[113,320,39],[147,297,39],[187,289,39],[226,297,39],[260,320,39],[282,354,39],[44,318,51],[285,270,51],[124,238,51],[181,227,51],[237,238,51],[76,270,51],[317,318,51]]]],f=u.length,b=".game-c";let g,y,w,M=-1,L=0,j=0,T="default",C=0;const P=()=>{const[t,e,s]=g[M],i=.5*s-5;return[t+i,e+i]},S=async()=>{const e=(((t=0,e="normal")=>{let s=((new Date).getTime()-j)/1e3*(360/t)%360;return"reverse"===e&&360-s>=0&&(s=360-s),Math.round(s)})(g[M][5],g[M][4])-90)*(Math.PI/180),[s,i]=P(),n=Math.cos(e),r=Math.sin(e);let d=s,c=i,v=-1;const $={x:0,y:0},x=g.filter((t=>!t[6])),m=g[M][3],h=t(`#${m}`),p=t(".bullet"),u=M;for(M=-1,a(p,"a");d>=0&&d<=412&&c>=0&&c<=732;){d+=n,c+=r;for(let t=0;t<x.length;t++){const e=x[t][0],s=x[t][1],i=x[t][2],n=e+i/2,a=s+i/2,o=i/2+5;if(Math.sqrt((d-n)**2+(c-a)**2)<=o){v=t,$.x=d,$.y=c;break}}if(v>=0)break}a(h,"s"),h.style.display="none";const f=v>=0?$:{x:d,y:c};l(p,{transform:`translate(${f.x}px, ${f.y}px)`});const b=p?.getAnimations().map((t=>t.finished));if(await Promise.allSettled(b),t(`#${m}`)?.remove(),g.splice(u,1),v>=0){M=v,g[M][6]=!0;const e=1===g.length,s="a"+(e?" s":"");a(t(`#${g[M][3]}`),s);const[i,n]=P();l(p,{transform:`translate(${i}px, ${n}px)`}),e&&(T=L>0?"passed":"finalized",A())}else T="lost",A();if(o(p,"a"),"default"!==T){await(y=600,new Promise((t=>setTimeout(t,y))));const e=".game-o";a(t(e),`a mo ${T[0]}`.trim());const s="lost"===T?"Failed":"Complete",i="lost"===T?"Oh no":"passed"===T?"Great!":"Not Bad!",n=`${e} .me`;t(`${n} h1`).textContent=i,t(`${n} h3`).textContent=`Level ${C+1} ${s}`}var y},k=(e=0)=>{const s=((t=0)=>u[t])(e);M=s[0],L=s[1],w.textContent=`${L}`,j=(new Date).getTime(),g=s[2].map((([t,e,s],i)=>{const[a,o]=[0===n(0,1)?"normal":"reverse",n(1,3)+n(0,9)/10];return[t,e,s,`c-${"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}`,a,o,i===M]})),i(t(b),[g.map((t=>(([t,e,s,i,n,a,o])=>`<div id="${i}" class="${"clock bor "+(o?"a":"")}" style="width:${s}px;height:${s}px;left:${t}px;top:${e}px;--s:${a}s;--d:${n};"></div>`)(t))),m([...P(),10])].flat().join(""))},A=()=>{y&&(clearInterval(y),y=null)},E=()=>{A(),w.textContent=`${L}`,L>0&&(y=setInterval((()=>{L-1>=0?(L--,w.textContent=`${L}`):A()}),1e3))},G=(t=0,e=!1,s=20)=>`<div class="sli wh jc">${d(s).map((i=>{const a=i+s*t,o=n(0,1);return`<div class="sli-w">${h(`b-${a}`,`${a+1}`,"","",60,e)}${o?p():""}</div>`})).join("")}\n</div>`,I=()=>{let s=0;const n=`<div class="progress wh jc"><h2>Select Level</h2>${((t=1)=>`<div class="car"><div class="car-w">${d(t).map((t=>`<div id="s-${t}" class="car-s wh">${G(t)}</div>`)).join("")}</div></div>`)(3)}${h("prev","❮","bta","",40)}${h("next","❯","bta","",40)}${h("main","✕","btm","Main Menu",45)}</div>`;i(t(`#${c}`),n),r((i=>{if(["prev","next"].includes(i))return((i=0)=>{const n=t(".car-w"),a=e(".car-s")[0].offsetWidth;i<0&&(i=0),i>=3&&(i=2),n.scrollTo({left:a*i,behavior:"smooth"}),s=i})(s+("prev"===i?-1:1));if("main"===i)return z();const n=i.split("-");n[1]&&z("Game",{l:+n[1]})}))},q={Game:({l:e=0,f:n=!1})=>{const l=`<div class="game wh"><div class="game-o wh jc"><div class="ti jc"><h1>Game Paused</h1><h3></h3></div>${h("play","➜","","Tap to Resume",140)}${p(90,"With Start")}<div class="me jc"><h1></h1><h3></h3></div><div class="t jc">${h("main","✕","","Main Menu",80)}${h("run","↺","","Run Again",80)}${h("next","❯","","Next Level",80)}</div></div><div class="game-t"><div class="t"><div class="s">${p()}<span>Time</span></div><div class="c">00</div></div>${h("pause","||","bt")}</div><div class="game-c wh"></div></div>`;i(t(`#${c}`),l),((e=0,i=!1)=>{console.log({isInfinity:i}),C=e,w=t(".game-t .c"),k(C),s(t(b),"click",(()=>{"default"===T&&M>=0&&(S(),!y&&L>0&&E())})),r((e=>{const s=".game-o";A(),["play","next","run"].includes(e)&&o(t(s),"a l p f mo"),"pause"===e&&(a(t(s),"a"),t(`${s} .ti h3`).textContent=`Level - ${C+1}`),"play"===e&&E(),"run"===e&&(T="default",k(C)),"next"===e&&C+1<f&&(C++,T="default",k(C)),"main"===e&&z()}))})(e,n)},Lobby:()=>{const e=`<div class="lobby wh">\n    <div class="lobby-b">\n      ${[["progress","❯❯"],["infinite","∞"]].map((t=>h(t[0],t[1],"lobby-bu",t[0],100))).join("")} \n    </div>\n  </div>`;i(t(`#${c}`),e),r((t=>{"infinite"===t&&z("Game",{f:!0}),"progress"===t&&z("Progress")}))},Progress:I},z=(t="Lobby",e={})=>q[t](e);i(t("#root"),v()),z("Progress"),s(document,"contextmenu",(t=>t.preventDefault())),window.addEventListener("resize",x),x()})();